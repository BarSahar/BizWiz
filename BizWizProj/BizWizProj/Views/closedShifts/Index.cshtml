<script src="@Url.Content("~/Scripts/DayPilot/daypilot-all.min.js")" type="text/javascript"></script>
<br />
<br />
<br />
<br />
<div>

    
    <br />
    <b>Mounthly Working Hours:</b> @ViewData["Hours"]<br />

</div>
<div style="float:left; width: 160px;">
    <div id="nav">
    </div>
</div>
<div class="note">

    <a href="javascript:dp.commandCallBack('today');">Today</a>
   
</div>
<div style="margin-left: 160px;">
    <div id="dap">
    
    @Html.DayPilotCalendar("dp", new DayPilot.Web.Mvc.DayPilotCalendarConfig
{

    BackendUrl = Url.Action("Backend", "ClosedShifts"),
    ViewType = DayPilot.Web.Mvc.Enums.Calendar.ViewType.Week,
    TimeFormat = DayPilot.Web.Mvc.Enums.TimeFormat.Clock24Hours,
})
    </div>
</div>
<script type="text/javascript">
    var nav = new DayPilot.Navigator("nav");
    nav.showMonths = 1;
    nav.skipMonths = 1;
    nav.selectMode = "week";
    nav.init();

    nav.onTimeRangeSelected = function (args) {

        dp.startDate = args.day;
        dp.update();
        dp.commandCallBack('navigate');
        loadEvents();
    };

    function loadEvents() {
        
        $.post("ClosedShifts/Events",
        {
            start: dp.visibleStart().toString(),
            end: dp.visibleEnd().toString()
        },
        function (data) {
            dp.events.list = data;
            dp.update();
        });
     }
       
</script>